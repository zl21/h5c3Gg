<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>创建、修改并插入单个像素</title>
    <style>
        #myCanvas {
            background-color: #ccc;
        }
    </style>
</head>

<body>
    <canvas id="myCanvas" width="800" height="400"></canvas>
    <script>
        const oMyCanvas = document.getElementById("myCanvas");
        const CTX = oMyCanvas.getContext("2d");

        CTX.beginPath();

        // createImageData创建像素点的方法，两个参数，分别是宽度和高度。
        let imgData = CTX.createImageData(100, 100);
        console.log(imgData);

        // 把这个创建的像素点中的(30,40)的这个点变成红色，其他不变。
        // (40-1)：(即y行)由于下标由0开始；
        // *4：每个占4个索引
        // *imgData.width：行数(即y)乘以每行的宽度(即imgData.width)，得到上面y行的最后一个的索引
        // +(30 - 1)：加上该像素点所在行的前几个像素的索引(x即在多少列)
        imgData.data[(40 - 1) * 4 * imgData.width + (30 - 1) * 4 + 0] = 255;
        imgData.data[(40 - 1) * 4 * imgData.width + (30 - 1) * 4 + 1] = 0;
        imgData.data[(40 - 1) * 4 * imgData.width + (30 - 1) * 4 + 2] = 0;
        imgData.data[(40 - 1) * 4 * imgData.width + (30 - 1) * 4 + 3] = 255;

        CTX.putImageData(imgData, 0, 0);//修改完后置于创建的像素点中坐标0,0的位置？？？

    </script>
</body>

</html>